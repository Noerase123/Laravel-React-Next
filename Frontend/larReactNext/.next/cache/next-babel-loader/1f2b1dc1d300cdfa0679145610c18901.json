{"ast":null,"code":"var _jsxFileName = \"/home/isaac/Desktop/larReactNextFull/Frontend/larReactNext/components/ComPost.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nconst useStyles = makeStyles({\n  card: {\n    maxWidth: 345\n  },\n  media: {\n    height: 140\n  }\n});\nexport default function ComPost() {\n  const classes = useStyles();\n  const [post, setPost] = React.useState([]);\n  const [comments, setComments] = React.useState([]);\n  const [addcomm, setAddcomm] = React.useState('');\n  const api = 'http://localhost:8000/api/';\n  React.useEffect(() => {\n    var urlParams = new URLSearchParams(window.location.search);\n    let param = urlParams.get('getId');\n    Axios.get(api + 'post/' + param).then(res => {\n      // console.log(res.data.data)\n      setPost(res.data.data);\n    }).catch(err => {\n      console.log(err);\n    });\n    Axios.get(api + 'comments/viewPost/' + param).then(res => {\n      console.log(res.data.get_data);\n      setComments(res.data.get_data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const addComment = () => {\n    var urlParams = new URLSearchParams(window.location.search);\n    let param = urlParams.get('getId');\n    const data = {\n      'comment': addcomm\n    };\n    Axios.post(api + 'comments/addComment/' + param, data).then(res => {\n      console.log(res);\n      setTimeout(() => {\n        window.location.reload();\n      }, 500);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), __jsx(Card, {\n    className: classes.card,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, __jsx(CardActionArea, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, __jsx(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, __jsx(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    component: \"h2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, post.title), __jsx(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    component: \"p\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, post.description))), __jsx(CardActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, __jsx(TextField, {\n    id: \"standard-basic\",\n    label: \"Add comment...\",\n    variant: \"filled\",\n    fullWidth: true,\n    onChange: event => setAddcomm(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: () => addComment(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Comment\")), comments.map(com => __jsx(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, __jsx(Typography, {\n    style: commentStyle,\n    component: \"p\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, com.comment)))));\n}\nconst commentStyle = {\n  marginLeft: '50px'\n};","map":{"version":3,"sources":["/home/isaac/Desktop/larReactNextFull/Frontend/larReactNext/components/ComPost.js"],"names":["React","Axios","makeStyles","Card","CardActionArea","CardActions","CardContent","CardMedia","Button","Typography","Paper","TextField","useStyles","card","maxWidth","media","height","ComPost","classes","post","setPost","useState","comments","setComments","addcomm","setAddcomm","api","useEffect","urlParams","URLSearchParams","window","location","search","param","get","then","res","data","catch","err","console","log","get_data","addComment","setTimeout","reload","title","description","event","target","value","map","com","commentStyle","comment","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\n\nconst useStyles = makeStyles({\n    card: {\n        maxWidth: 345,\n    },\n    media: {\n        height: 140,\n    },\n});\n\nexport default function ComPost() {\n    const classes = useStyles();\n\n    const [post, setPost] = React.useState([])\n    const [comments, setComments] = React.useState([])\n\n    const [addcomm, setAddcomm] = React.useState('')\n\n    const api = 'http://localhost:8000/api/'\n\n    React.useEffect(() => {\n\n        var urlParams = new URLSearchParams(window.location.search);\n\n        let param = urlParams.get('getId');\n\n        Axios.get(api + 'post/' + param)\n            .then(res => {\n                // console.log(res.data.data)\n                setPost(res.data.data)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n\n        Axios.get(api + 'comments/viewPost/' + param)\n            .then(res => {\n                console.log(res.data.get_data)\n                setComments(res.data.get_data)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n\n    }, [])\n\n    const addComment = () => {\n\n        var urlParams = new URLSearchParams(window.location.search);\n\n        let param = urlParams.get('getId');\n\n        const data = {\n            'comment': addcomm\n        }\n\n        Axios.post(api + 'comments/addComment/' + param,data)\n            .then(res => {\n                console.log(res)\n                setTimeout(() => {\n                    window.location.reload();\n                }, 500);\n            })\n            .catch(err => {\n                console.log(err)\n            })\n\n    }\n\n    return (\n        <React.Fragment>\n            <br/>\n\n            <Card className={classes.card}>\n                <CardActionArea>\n                    <CardContent>\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                            {post.title}\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                            {post.description}\n                        </Typography>\n                    </CardContent>\n                </CardActionArea>\n                <CardActions>\n                    <TextField\n                        id=\"standard-basic\"\n                        label=\"Add comment...\"\n                        variant=\"filled\"\n                        fullWidth\n                        onChange={(event) => setAddcomm(event.target.value)}\n                    />\n                    <Button variant=\"contained\" color=\"primary\" onClick={() => addComment()}>\n                        Comment\n                    </Button>\n                </CardActions>\n\n                {comments.map(com => (\n                    <Paper>\n                        <Typography style={commentStyle} component=\"p\">\n                            {com.comment}\n                        </Typography>\n                    </Paper>\n                ))}\n\n            </Card>\n        </React.Fragment>\n    )\n}\n\nconst commentStyle = {\n    marginLeft: '50px'\n}"]},"metadata":{},"sourceType":"module"}