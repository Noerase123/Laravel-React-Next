{"version":3,"file":"static/webpack/static/development/pages/post.js.93181ac60dd9500c8045.hot-update.js","sources":["webpack:///./components/ComPost.js"],"sourcesContent":["import React from 'react';\nimport Axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\n\nconst useStyles = makeStyles({\n    card: {\n        maxWidth: 345,\n    },\n    media: {\n        height: 140,\n    },\n});\n\nexport default function ComPost() {\n    const classes = useStyles();\n\n    const [post, setPost] = React.useState([])\n    const [comments, setComments] = React.useState([])\n\n    const [addcomm, setAddcomm] = React.useState('')\n\n    const api = 'http://localhost:8000/api/'\n\n    var urlParams = new URLSearchParams(location.search);\n\n    let param = urlParams.get('getId');\n\n    React.useEffect(() => {\n\n\n        Axios.get(api + 'post/' + param)\n            .then(res => {\n                // console.log(res.data.data)\n                setPost(res.data.data)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n\n        Axios.get(api + 'comments/viewPost/' + param)\n            .then(res => {\n                console.log(res.data.get_data)\n                setComments(res.data.get_data)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n\n    }, [])\n\n    const addComment = () => {\n\n        const data = {\n            'comment': addcomm\n        }\n\n        Axios.post(api + 'comments/addComment/' + param,data)\n            .then(res => {\n                console.log(res)\n            })\n            .catch(err => {\n                console.log(err)\n            })\n\n    }\n\n    return (\n        <React.Fragment>\n            <br/>\n\n            <Card className={classes.card}>\n                <CardActionArea>\n                    <CardContent>\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                            {post.title}\n                        </Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                            {post.description}\n                        </Typography>\n                    </CardContent>\n                </CardActionArea>\n                <CardActions>\n                    <TextField\n                        id=\"standard-basic\"\n                        label=\"Add comment...\"\n                        variant=\"filled\"\n                        fullWidth\n                        onChange={(event) => setAddcomm(event.target.value)}\n                    />\n                    <Button variant=\"contained\" color=\"primary\" onClick={() => addComment()}>\n                        Comment\n                    </Button>\n                </CardActions>\n\n                {comments.map(com => (\n                    <Paper>\n                        <Typography style={commentStyle} component=\"p\">\n                            {com.comment}\n                        </Typography>\n                    </Paper>\n                ))}\n\n            </Card>\n        </React.Fragment>\n    )\n}\n\nconst commentStyle = {\n    marginLeft: '50px'\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AADA;AAJA;AASA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAOA;AAEA;AAEA;AAEA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AADA;AAIA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAWA;AAEA;AACA;AADA;;;;A","sourceRoot":""}